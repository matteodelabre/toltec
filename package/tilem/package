#!/usr/bin/env bash
# Copyright (c) 2020 The Toltec Contributors
# SPDX-License-Identifier: MIT

pkgnames=(tilem)
pkgdesc="TI-84+ calculator emulator"
url=https://github.com/timower/rM2-stuff/tree/master/apps/tilem
pkgver=0.0.6-1
timestamp=2021-04-30T10:42Z
maintainer="None <none@example.com>"
license=GPL-3.0
section="utils"
image=base:v2.1

source=(https://github.com/timower/rM2-stuff/archive/8dc94a360358bf74da244beda74739663dd44741.tar.gz)
sha256sums=(23192117d3e8bb3ddba5d909e80dea7354aa4c5e2936047ca2cb3d35e906ecc1)

build() {
    mkdir build
    mkdir install
    cd build
    cmake -DCMAKE_TOOLCHAIN_FILE="/usr/share/cmake/$CHOST.cmake" \
        -DCMAKE_INSTALL_PREFIX="../install" -DCMAKE_BUILD_TYPE=Release ..
    cd apps/tilem
    make
    make install
}

package() {
    cp -r "$srcdir/install/." "$pkgdir"
}
